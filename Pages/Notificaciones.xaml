<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Jobbara.Pages.Notificaciones"
              xmlns:shell="http://schemas.microsoft.com/dotnet/2021/maui"
             shell:Shell.NavBarIsVisible="False"
             BackgroundColor="White"
             Title="Notificaciones">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Fondo superior decorativo -->
        <Grid Grid.Row="0">
            <BoxView HeightRequest="200"
                     BackgroundColor="#FF9B51"
                     CornerRadius="0,0,200,200"
                     HorizontalOptions="Fill"
                     VerticalOptions="Start"/>
            <!-- Botón de regreso -->
            <ImageButton Source="back.png"
                         HorizontalOptions="Start"
                         VerticalOptions="Start"
                         Clicked="OnGoToHome"
                         Margin="10"
                         WidthRequest="28"
                         HeightRequest="28"
                         BackgroundColor="#FF9B51"/>

            <ScrollView Margin="0,50,0,0">
                <VerticalStackLayout Padding="20" Spacing="15">

                    <Label Text="Notificaciones"
                           FontSize="28"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center"
                           Margin="0,10,0,0"/>

                    <!-- Lista de notificaciones -->
                    <CollectionView x:Name="NotificacionesCollection">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame Margin="0,5"
                                       Padding="15"
                                       CornerRadius="10"
                                       BackgroundColor="#FFF7F2"
                                       BorderColor="#FF9B51"
                                       HasShadow="True">
                                    <VerticalStackLayout>
                                        <Label Text="{Binding Titulo}"
                                               FontAttributes="Bold"
                                               FontSize="18"
                                               TextColor="#FF6A00"/>
                                        <Label Text="{Binding Mensaje}"
                                               FontSize="14"
                                               TextColor="Black"/>
                                        <Label Text="{Binding Fecha}"
                                               FontSize="12"
                                               TextColor="Gray"
                                               HorizontalOptions="End"/>
                                    </VerticalStackLayout>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>

                </VerticalStackLayout>
            </ScrollView>
        </Grid>

        <!-- Barra de navegación inferior -->
        <Grid Grid.Row="1"
              BackgroundColor="#F0F0F0"
              Padding="10"
              HeightRequest="70"
              ColumnSpacing="30">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Ajustes -->
            <ImageButton Source="settings.png"
                         BackgroundColor="Transparent"
                         Grid.Column="0"
                         HorizontalOptions="Center"
                         VerticalOptions="Center"
                         Clicked="GoToAjustes"
                         WidthRequest="40"
                         Margin="0,-20,0,0"/>
            <Label Text="Ajustes" TextColor="DarkOrange"
                   FontAttributes="Bold"
                   Grid.Column="0"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   Margin="0,34,0,0"
                   FontSize="12"/>

            <!-- Botón central -->
            <Frame HeightRequest="80"
                   WidthRequest="80"
                   CornerRadius="40"
                   BackgroundColor="#FF9B51"
                   Padding="0"
                   HasShadow="True"
                   BorderColor="#E65100"
                   VerticalOptions="Center"
                   HorizontalOptions="Center"
                   Grid.Column="1"
                   Margin="0,-30,0,0">
                <ImageButton Source="plus.png"
                             BackgroundColor="Transparent"
                             Aspect="AspectFit"
                             Padding="0"/>
            </Frame>

            <!-- Pagos -->
            <ImageButton Source="money.png"
                         BackgroundColor="Transparent"
                         Grid.Column="2"
                         HorizontalOptions="Center"
                         VerticalOptions="Center"
                         Margin="0,-16,0,0"
                         Clicked="GoToPagos"
                         WidthRequest="47"/>
            <Label Text="Pagos" TextColor="DarkOrange"
                   FontAttributes="Bold"
                   Grid.Column="2"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   Margin="0,34,0,0"
                   FontSize="12"/>
        </Grid>
    </Grid>
</ContentPage>